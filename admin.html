<html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Admin Panel</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      padding: 20px;
    }
    h1 { color: #0b5ed7; }
    input, button {
      width: 100%;
      margin: 6px 0;
      padding: 8px;
    }
    button {
      background: #0b5ed7;
      color: white;
      border: none;
      cursor: pointer;
    }
    pre {
      background: #fff;
      padding: 10px;
      border: 1px solid #ccc;
      white-space: pre-wrap;
    }
  </style>
</head>

<body>

<h1>Admin Panel</h1>

<h3>State Info</h3>
<input id="stateCode" placeholder="State Code (WB)">
<input id="stateName" placeholder="State Name">
<input id="capital" placeholder="Capital">

<h3>City Info</h3>
<input id="cityName" placeholder="City Name">
<input id="population" placeholder="Population">
<input id="famous" placeholder="Famous For">

<button onclick="addCity()">Add City</button>
<button onclick="removeCity()">Remove City</button>

<h3>Updated JSON (Copy & Paste into data.json)</h3>
<pre id="output"></pre>

<script>
let data = {};

fetch("data.json")
  .then(res => res.json())
  .then(json => data = json);

function addCity() {
  const code = stateCode.value;
  if (!data[code]) {
    data[code] = {
      name: stateName.value,
      capital: capital.value,
      cities: []
    };
  }

  data[code].cities.push({
    name: cityName.value,
    population: population.value,
    famous: famous.value
  });

  showJSON();
}

function removeCity() {
  const code = stateCode.value;
  if (!data[code]) return;

  data[code].cities =
    data[code].cities.filter(c => c.name !== cityName.value);

  showJSON();
}

function showJSON() {
  document.getElementById("output").textContent =
    JSON.stringify(data, null, 2);
}
</script>

</body>
</html>
